# PostgreSQL Setup Script

This script automates the process of setting up a virtual machine with Docker and two PostgreSQL databases (one for production and one for development).

## Features

- Updates and upgrades the system
- Installs essential tools (vim, git, htop)
- Sets up a basic firewall (ufw)
- Installs Docker and Docker Compose
- Creates two PostgreSQL databases using Docker:
  - Production database on port 5432
  - Development database on port 5433
- Generates secure, random passwords for both databases
- Provides connection URLs for both databases

## Prerequisites

- Ubuntu-based virtual machine
- Sudo privileges on the VM

## Usage

1. Clone this repository:
   ```
   git clone https://github.com/your-username/scripts.git
   cd scripts
   ```

2. Make the script executable:
   ```
   chmod +x script.sh
   ```

3. Run the script:
   ```
   ./script.sh
   ```

4. After the script completes, it will display the connection URLs for both databases. Make sure to save these securely, as the passwords won't be displayed again.

## Important Notes

- The script will generate random, secure passwords for both databases. These passwords will be displayed only once at the end of the script execution. Make sure to save them securely.
- The script opens ports 5432 and 5433 in the firewall. Ensure this aligns with your security requirements.
- The IP address displayed in the connection URLs is the internal IP of the VM. For external connections, you may need to use the VM's public IP or hostname.
- If you're running this VM in a cloud environment, you may need to configure additional firewall rules or security groups to allow incoming connections on ports 5432 and 5433.

## Customization

You can modify the `docker-compose.yml` file generated by the script to change database versions, add additional services, or modify port mappings.

## Security Considerations

- The passwords are displayed in plain text at the end of the script execution. In a production environment, consider using a more secure method to communicate these credentials.
- Regularly update your system and Docker images to ensure you have the latest security patches.
- Consider implementing additional security measures such as SSL/TLS for database connections, especially for the production database.